<!DOCTYPE html>
<html>
	<head>
		<title>Edge List Demo</title>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	</head>
	<style>
	body {
 		 -webkit-user-select:none;
  		-khtml-user-select:none;
  		-moz-user-select:none;
  		-ms-user-select:none;
  		-o-user-select:none;
  		user-select:none;
	}
	</style>
	<body>
		<script>
			"use strict";
			!function(){var t,r,a=function(t,r){return{x:t,y:r,z:Math.round(10*Math.random())}},n=function(t,r){return{a:t,b:r}},e=function(t,r){var n=a(r.x-t.x,r.y-t.y);return Math.sqrt(n.x*n.x+n.y*n.y)},c=d3.scale.ordinal().range(["#54c06c","#9c0bff","#d7011b","#176eb2","#d8a302","#bf278e","#d39e97","#2dbdc5","#0e5ff1","#6c6e25","#c996f5","#a65425","#96b80d","#5c6d72","#1dc60f","#c13654","#925780","#a137cb","#0b7956","#9bb28b","#a6a8d4","#fb85b9","#d1a460","#fe8e3d","#0ab8f4","#fe77f3","#ff8a78","#327a09","#655ec0","#876347","#9bb559","#23c19c","#604aff","#9b49a8","#91b1b7","#a15359","#8b6304","#be4003","#5b714d","#d499c3","#94a6fc","#067493","#686690","#67c03d","#baad32","#d0026b","#b24174","#0c7775","#c203ac","#c03b33","#836269","#f18f9c","#ee87dc","#477633","#d4053e","#7850d5","#bfa881","#b008dc","#78ba7f","#04c553","#6bbaa4","#ef9561","#805b9e","#e49c3f","#b7a6b4","#62b6d3","#f2960d","#0f69ca","#bf9edf","#b5ad66","#77afed","#577403","#027b36","#ad4d3f","#e6987f","#a14b8e","#aeab9e","#2564db","#5b65ae","#e188fd","#83662e","#8c3ce6","#726a5b","#64c104","#87ba48","#9a5b3a","#03c386","#ad35af","#9e5a01","#d0a539","#5f52ed","#ba04c4","#4b7264","#d20b55","#7ebb65","#a1b53a","#9447c0","#426e9a","#736b43","#97b575","#945f23","#e88eca","#da99aa","#1bbfb2","#afb104","#6d687c","#d6a077","#c0aa4f","#af4760","#8356af","#c02d7b","#90aecd","#8b32f8","#6db7be","#c92f1d","#94596c","#c23067","#41c437","#95b2a1","#af4e06"]),d=600,f=600,o=40,u=d3.select("body").append("svg").attr("width",d).attr("height",f),i=d3.select("body").append("svg").attr("width",d).attr("height",f),b=[a(2,2),a(3,5),a(6,2)],l=[n(b[0],b[1]),n(b[1],b[2]),n(b[2],b[0])],x=function(){u.selectAll("line").data(l).attr("x1",function(t){return t.a.x*o}).attr("y1",function(t){return t.a.y*o}).attr("x2",function(t){return t.b.x*o}).attr("y2",function(t){return t.b.y*o}),u.selectAll("circle").data(b).attr("cx",function(t){return t.x*o}).attr("cy",function(t){return t.y*o}),u.selectAll("text").data(b).attr("transform",function(t){return"translate("+t.x*o+","+(t.y*o-15)+")"}).text(function(t){return"("+t.x+", "+t.y+", "+t.z+")"});var t=y(b,l),a=i.selectAll("text").filter(function(t){return t==r?null:t}).data(t.entries);a.enter().append("text").attr("fill","black").attr("font-size","24px").attr("text-anchor","middle").attr("transform",function(t,r){return"translate("+d/2+","+(1.5*o+r*o)+")"}).text(function(t){return"["+d3.round(t.lx,2)+"]["+d3.round(t.lz,2)+"]["+d3.round(t.rx,2)+"]["+d3.round(t.rz,2)+"]"}),a.transition().attr("transform",function(t,r){return"translate("+d/2+","+(1.5*o+r*o)+")"}).text(function(t){return"["+d3.round(t.lx,2)+"]["+d3.round(t.lz,2)+"]["+d3.round(t.rx,2)+"]["+d3.round(t.rz,2)+"]"}),a.exit().remove(),r.text("minY = "+t.minY+"  |  mx = "+t.mx+"  |  mz = "+t.mz,2)},y=function(t,r){var a=[],n={};n.mx=[],n.mz=[];var e=t[0].y,c=t[0].y;n.minY=e,t.forEach(function(t){e=Math.min(e,t.y),c=Math.max(c,t.y)});for(var d=Math.round(c-e+1),f=0;d>f;f++)a.push([Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY]);return r.forEach(function(t){var r,c;t.a.y<=t.b.y?(r=t.a,c=t.b):(r=t.b,c=t.a);var d=(c.x-r.x)/(c.y-r.y),f=(c.z-r.z)/(c.y-r.y);n.mx.push(d3.round(c.y-r.y===0?0:d,2)),n.mz.push(d3.round(c.y-r.y===0?0:f,2));for(var o=r.x,u=r.z,i=Math.round(r.y-e),b=Math.round(c.y-e);b>i;i++,o+=d,u+=f)o<a[i][0]&&(a[i][0]=o,a[i][1]=u),o>a[i][2]&&(a[i][2]=o,a[i][3]=u);o<a[b][0]&&(a[b][0]=c.x,a[b][1]=c.z),o>a[i][2]&&(a[b][2]=c.x,a[b][3]=c.z)}),n.entries=[],a.forEach(function(t){n.entries.push({lx:t[0],lz:t[1],rx:t[2],rz:t[3]})}),n};!function(){for(var r=0;d/o>=r;r++)u.append("line").attr("x1",r*o).attr("y1",0).attr("x2",r*o).attr("y2",f).attr("stroke","black").attr("stroke-opacity",.25);for(var r=0;f/o>=r;r++)u.append("line").attr("y1",r*o).attr("x1",0).attr("y2",r*o).attr("x2",d).attr("stroke","black").attr("stroke-opacity",.25);u=u.append("g").attr("width",d).attr("height",f),u.selectAll("line").data(l).enter().append("line").attr("x1",function(t){return t.a.x*o}).attr("y1",function(t){return t.a.y*o}).attr("x2",function(t){return t.b.x*o}).attr("y2",function(t){return t.b.y*o}).attr("stroke","red").attr("stroke-opacity",1),u.selectAll("circle").data(b).enter().append("circle").attr("cx",function(t){return t.x*o}).attr("cy",function(t){return t.y*o}).attr("r",function(){return 5}).attr("fill",function(t){return c(t)}),u.selectAll("text").data(b).enter().append("text").attr("fill","black").attr("font-size","24px").attr("text-anchor","middle").attr("transform",function(t){return"translate("+t.x*o+","+(t.y*o-15)+")"}).text(function(t){return"("+t.x+", "+t.y+", "+t.z+")"}),window.addEventListener("mousedown",function(r){var n=a(r.clientX/o,r.clientY/o),c=Number.POSITIVE_INFINITY,d=void 0;b.forEach(function(t){var r=e(t,n);c>r&&(c=r,d=t)}),t=d}),window.addEventListener("mousemove",function(r){t&&(t.x=r.clientX/o,t.y=r.clientY/o,t.x=Math.round(4*t.x)/4,t.y=Math.round(4*t.y)/4,x())}),window.addEventListener("mouseup",function(){t=void 0})}(),function(){r=i.append("g").append("text").attr("fill","black").attr("font-size","12px").attr("text-anchor","middle").attr("transform",function(){return"translate("+d/2+",12)"})}(),x()}();
		</script>
	</body>
</html>
